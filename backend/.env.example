# ─────────────────────────────────────────────
# CORE SERVER
# ─────────────────────────────────────────────
NODE_ENV=development
PORT=3001
API_BASE_URL=http://localhost:3001

# ─────────────────────────────────────────────
# DATABASE (PostgreSQL 16 + pgvector)
# ─────────────────────────────────────────────
# Primary connection (can use PgBouncer in prod)
DATABASE_URL=postgresql://axon:axon@localhost:5432/axon

# Direct connection for migrations (bypass PgBouncer)
DIRECT_URL=postgresql://axon:axon@localhost:5432/axon

# ─────────────────────────────────────────────
# REDIS (cache + BullMQ queues)
# ─────────────────────────────────────────────
REDIS_URL=redis://localhost:6379

# ─────────────────────────────────────────────
# AUTHENTICATION
# ─────────────────────────────────────────────
# 32+ byte random hex — generate with: openssl rand -hex 32
JWT_SECRET=replace-with-32-byte-random-hex-value

# Access token lifetime (default 15 minutes)
JWT_EXPIRES_IN=15m

# Refresh token lifetime (default 30 days)
REFRESH_TOKEN_EXPIRES_IN=30d

# ─────────────────────────────────────────────
# FRONTEND (CORS allowed origin)
# ─────────────────────────────────────────────
FRONTEND_URL=http://localhost:3000

# ─────────────────────────────────────────────
# OPENAI
# ─────────────────────────────────────────────
OPENAI_API_KEY=sk-replace-with-your-openai-key
OPENAI_MODEL=gpt-5-nano

# ─────────────────────────────────────────────
# CHANNEL CREDENTIAL ENCRYPTION
# ─────────────────────────────────────────────
# Exactly 32-byte hex key for AES-256-GCM
# Generate with: openssl rand -hex 32
CHANNEL_ENCRYPTION_KEY=replace-with-64-char-hex-value-exactly-32-bytes

# ─────────────────────────────────────────────
# STRIPE (billing)
# ─────────────────────────────────────────────
STRIPE_SECRET_KEY=sk_test_replace_with_stripe_key
STRIPE_WEBHOOK_SECRET=whsec_replace_with_stripe_webhook_secret

# ─────────────────────────────────────────────
# RESEND (transactional email)
# ─────────────────────────────────────────────
RESEND_API_KEY=re_replace_with_resend_key
RESEND_FROM=noreply@yourdomain.com

# ─────────────────────────────────────────────
# SENTRY (error tracking)
# ─────────────────────────────────────────────
SENTRY_DSN=https://replace@sentry.io/project

# ─────────────────────────────────────────────
# FILE STORAGE (AWS S3 or Cloudflare R2)
# ─────────────────────────────────────────────
S3_BUCKET=axon-uploads
S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=replace-with-access-key
AWS_SECRET_ACCESS_KEY=replace-with-secret-key

# ─────────────────────────────────────────────
# TWILIO (SMS + Voice channels)
# ─────────────────────────────────────────────
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=replace-with-twilio-auth-token
TWILIO_PHONE_NUMBER=+15551234567

# ─────────────────────────────────────────────
# WORKER PROCESS
# ─────────────────────────────────────────────
# Set to 'true' only in the dedicated worker process
# to avoid duplicate cron job registration
REGISTER_CRON=false
